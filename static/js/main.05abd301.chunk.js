(this.webpackJsonpmoovy=this.webpackJsonpmoovy||[]).push([[0],[,,,,,function(e,t,a){e.exports={root:"Movie_root__KFgdv",poster:"Movie_poster__3h7UJ",buttonBar:"Movie_buttonBar__N5SLX",buttonBarMobile:"Movie_buttonBarMobile__2DD5q"}},,function(e,t,a){e.exports={root:"Moovy_root__3uWAo",label:"Moovy_label__1x9HL",movies:"Moovy_movies__fFRty"}},,,,function(e,t,a){e.exports={root:"ButtonBar_root__2mcj5"}},function(e,t,a){e.exports={root:"DisplaySelector_root__2ei-8"}},,function(e,t,a){e.exports=a(22)},,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),c=a.n(o),i=(a(19),a(2)),s={moviesFavourite:[],moviesWatchLater:[]},u=r.a.createContext(s),l=a(1),m=a.n(l),v=a(3),p=function(){var e="object"===typeof window;function t(){var t=!e||window.innerWidth>414,a=!t;return{width:e?window.innerWidth:300,height:e?window.innerHeight:800,desktop:t,mobile:a}}var a=Object(n.useState)(t),r=Object(i.a)(a,2),o=r[0],c=r[1];return Object(n.useEffect)((function(){function a(){c(t())}return function(){var t=Object(v.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",!1);case 2:window.addEventListener("resize",a);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){return window.removeEventListener("resize",a)}}),[]),o},f=a(8),h=a(11),d=a.n(h),b=function(e){var t=e.movie,a=Object(n.useContext)(u),o=Object(n.useState)(a.moviesFavourite.some((function(e){return e.id===t.id}))),c=Object(i.a)(o,2),s=c[0],l=c[1],m=Object(n.useState)(a.moviesWatchLater.some((function(e){return e.id===t.id}))),v=Object(i.a)(m,2),p=v[0],h=v[1];return r.a.createElement("div",{className:d.a.root},r.a.createElement("img",{src:s?"./star.svg":"./star-gray.svg",alt:"",onClick:function(){a.moviesFavourite=s?a.moviesFavourite.filter((function(e){return e.id!==t.id})):[].concat(Object(f.a)(a.moviesFavourite),[t]),l(!s)}}),r.a.createElement("img",{src:p?"./clock.svg":"./clock-gray.svg",alt:"",onClick:function(){a.moviesWatchLater=p?a.moviesWatchLater.filter((function(e){return e.id!==t.id})):[].concat(Object(f.a)(a.moviesWatchLater),[t]),h(!p)}}))},E=a(12),g=a.n(E),w=function(e){var t=e.display,a=e.onDisplayClick;return r.a.createElement("div",{className:g.a.root},r.a.createElement("div",{className:"appButtons"},r.a.createElement("button",{type:"button"},r.a.createElement("img",{src:"search"===t?"./search.png":"./search-gray.png",alt:"",onClick:function(){return a("search")}})),r.a.createElement("button",{type:"button"},r.a.createElement("img",{src:"favourites"===t?"./star.svg":"./star-gray.svg",alt:"",onClick:function(){return a("favourites")}})),r.a.createElement("button",{type:"button"},r.a.createElement("img",{src:"watchLater"===t?"./clock.svg":"./clock-gray.svg",alt:"",onClick:function(){return a("watchLater")}}))))},y="https://api.themoviedb.org/3/search/movie",k=function(){var e=Object(v.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=a(13),j=function e(t){Object(_.a)(this,e),this.id=void 0,this.title=void 0,this.posterPath=void 0,this.id=t.id,this.title=t.title,this.posterPath=t.poster_path},x=function(){var e=Object(v.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(y+"?query=".concat(a,"&api_key=").concat(t));case 2:return n=e.sent,r=n.results.map((function(e){return new j(e)})),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),O=a(7),N=a.n(O),L=[],C=function(e){var t=e.display,a=Object(n.useContext)(u),o=a.moviesFavourite,c=a.moviesWatchLater,s=p(),l=s.desktop,f=s.mobile,h="d4628d3b003cc1fc6a008c7c53bdae46",d=Object(n.useState)("Pippi"),b=Object(i.a)(d,2),E=b[0],g=b[1],w=Object(n.useState)(L),y=Object(i.a)(w,2),k=y[0],_=y[1],j=Object(n.useState)(!1),O=Object(i.a)(j,2),C=O[0],M=O[1],S=function(){var e=Object(v.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:return M(!0),e.t0=_,e.next=6,x(h,E);case 6:e.t1=e.sent,(0,e.t0)(e.t1),M(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=[];return W="favourites"===t?o:"watchLater"===t?c:k,r.a.createElement("div",{className:N.a.root},"favourites"===t&&r.a.createElement("h2",null,"Favourites"),"watchLater"===t&&r.a.createElement("h2",null,"Watch later"),"search"===t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flexRow"},r.a.createElement("div",{className:"label "+N.a.label},"Text:"),r.a.createElement("input",{type:"text",className:"textBox",value:E,onChange:function(e){g(e.target.value)}}),l&&r.a.createElement("button",{onClick:S},"Search")),f&&r.a.createElement("div",{className:"flexRowRight"},r.a.createElement("button",{onClick:S},"Search"))),C&&r.a.createElement("div",null,"Mooooooooo..."),W&&W.length>0&&r.a.createElement("div",{className:N.a.movies},W.map((function(e){return r.a.createElement(B,{key:e.id,movie:e})}))))},M=a(5),S=a.n(M),B=function(e){var t=e.movie,a=p().desktop,n=t.posterPath?"http://image.tmdb.org/t/p/w185"+t.posterPath:void 0;return r.a.createElement("div",{className:S.a.root},r.a.createElement("img",{className:S.a.poster,alt:"",src:n}),r.a.createElement("div",null,t.title),r.a.createElement("div",{className:a?S.a.buttonBar:S.a.buttonBarMobile},r.a.createElement(b,{movie:t})))};a(21);var W=function(){var e=p().desktop,t=Object(n.useState)("search"),a=Object(i.a)(t,2),o=a[0],c=a[1];return r.a.createElement(u.Provider,{value:s},r.a.createElement("div",{className:"app"},r.a.createElement("header",{className:"flexRowStretch"},r.a.createElement("h1",null,"Moovy"),r.a.createElement(w,{display:o,onDisplayClick:function(e){c(e)}}),e&&r.a.createElement("img",{src:"./moo-fo.png",alt:"moo-fo",className:"mooFo"})),r.a.createElement(C,{display:o})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[14,1,2]]]);
//# sourceMappingURL=main.05abd301.chunk.js.map